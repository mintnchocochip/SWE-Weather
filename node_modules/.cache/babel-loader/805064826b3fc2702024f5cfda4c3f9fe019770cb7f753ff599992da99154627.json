{"ast":null,"code":"var _jsxFileName = \"A:\\\\brutal-weather\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport WeatherCard from '../components/WeatherCard';\nimport AIRecommendations from '../components/AIRecommendations';\nimport FavoritesSection from '../components/FavoritesSection';\nimport LocationSearch from '../components/LocationSearch';\nimport WeatherAPI from '../services/WeatherAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = ({\n  currentLocation,\n  setCurrentLocation,\n  favorites,\n  setFavorites\n}) => {\n  _s();\n  const [weatherData, setWeatherData] = useState({\n    location: 'Chennai',\n    condition: 'Clear',\n    temperature: 22,\n    humidity: 50,\n    feelsLike: 24,\n    wind: 5,\n    icon: '☀️'\n  });\n  const [isLoadingWeather, setIsLoadingWeather] = useState(false);\n  const [isGeneratingRecommendations, setIsGeneratingRecommendations] = useState(false);\n  const [recommendations, setRecommendations] = useState(null);\n  const [error, setError] = useState(null);\n\n  // Handle location search\n  const handleLocationSearch = async location => {\n    setIsLoadingWeather(true);\n    setError(null);\n    try {\n      const response = await WeatherAPI.searchWeather(location);\n      if (response.success) {\n        setWeatherData(response.data);\n        setCurrentLocation(response.data.location);\n        setRecommendations(null); // Reset recommendations for new location\n      } else {\n        setError(`Failed to get weather data for ${location}`);\n      }\n    } catch (error) {\n      setError(`Error searching for ${location}: ${error.message}`);\n    } finally {\n      setIsLoadingWeather(false);\n    }\n  };\n\n  // Generate AI recommendations\n  const generateAIRecommendations = async () => {\n    setIsGeneratingRecommendations(true);\n    try {\n      const response = await WeatherAPI.getAIRecommendations(weatherData, weatherData.location);\n      if (response.success) {\n        setRecommendations(response.data);\n      } else {\n        setError('Failed to generate AI recommendations');\n      }\n    } catch (error) {\n      setError(`Error generating recommendations: ${error.message}`);\n    } finally {\n      setIsGeneratingRecommendations(false);\n    }\n  };\n\n  // Load weather data when current location changes\n  useEffect(() => {\n    if (currentLocation !== weatherData.location) {\n      handleLocationSearch(currentLocation);\n    }\n  }, [currentLocation]);\n\n  // Auto-generate recommendations when weather data changes\n  useEffect(() => {\n    if (weatherData.location && !isLoadingWeather) {\n      generateAIRecommendations();\n    }\n  }, [weatherData.location, weatherData.temperature]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(LocationSearch, {\n      onLocationSelect: handleLocationSearch,\n      isLoading: isLoadingWeather\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"brutal-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#ff4444',\n          color: 'white',\n          padding: '12px',\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"brutal-text-sm\",\n          children: [\"\\u26A0\\uFE0F \", error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"brutal-button\",\n          style: {\n            marginTop: '8px',\n            padding: '6px 12px',\n            fontSize: '10px',\n            background: 'white',\n            color: 'black'\n          },\n          onClick: () => setError(null),\n          children: \"DISMISS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(FavoritesSection, {\n      favorites: favorites,\n      currentLocation: currentLocation,\n      setCurrentLocation: setCurrentLocation\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(WeatherCard, {\n      weatherData: weatherData,\n      isLoading: isLoadingWeather,\n      onSave: () => {\n        if (!favorites.includes(weatherData.location)) {\n          setFavorites([...favorites, weatherData.location]);\n        }\n      },\n      onRefresh: () => handleLocationSearch(weatherData.location)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AIRecommendations, {\n      weatherData: weatherData,\n      recommendations: recommendations,\n      isGenerating: isGeneratingRecommendations,\n      onGenerate: generateAIRecommendations\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"qdN/ihabpeeEQq+cipndyBqnE9I=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","WeatherCard","AIRecommendations","FavoritesSection","LocationSearch","WeatherAPI","jsxDEV","_jsxDEV","Home","currentLocation","setCurrentLocation","favorites","setFavorites","_s","weatherData","setWeatherData","location","condition","temperature","humidity","feelsLike","wind","icon","isLoadingWeather","setIsLoadingWeather","isGeneratingRecommendations","setIsGeneratingRecommendations","recommendations","setRecommendations","error","setError","handleLocationSearch","response","searchWeather","success","data","message","generateAIRecommendations","getAIRecommendations","children","onLocationSelect","isLoading","fileName","_jsxFileName","lineNumber","columnNumber","className","style","background","color","padding","textAlign","marginTop","fontSize","onClick","onSave","includes","onRefresh","isGenerating","onGenerate","_c","$RefreshReg$"],"sources":["A:/brutal-weather/src/pages/Home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport WeatherCard from '../components/WeatherCard';\r\nimport AIRecommendations from '../components/AIRecommendations';\r\nimport FavoritesSection from '../components/FavoritesSection';\r\nimport LocationSearch from '../components/LocationSearch';\r\nimport WeatherAPI from '../services/WeatherAPI';\r\n\r\nconst Home = ({ currentLocation, setCurrentLocation, favorites, setFavorites }) => {\r\n  const [weatherData, setWeatherData] = useState({\r\n    location: 'Chennai',\r\n    condition: 'Clear',\r\n    temperature: 22,\r\n    humidity: 50,\r\n    feelsLike: 24,\r\n    wind: 5,\r\n    icon: '☀️'\r\n  });\r\n\r\n  const [isLoadingWeather, setIsLoadingWeather] = useState(false);\r\n  const [isGeneratingRecommendations, setIsGeneratingRecommendations] = useState(false);\r\n  const [recommendations, setRecommendations] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Handle location search\r\n  const handleLocationSearch = async (location) => {\r\n    setIsLoadingWeather(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const response = await WeatherAPI.searchWeather(location);\r\n      \r\n      if (response.success) {\r\n        setWeatherData(response.data);\r\n        setCurrentLocation(response.data.location);\r\n        setRecommendations(null); // Reset recommendations for new location\r\n      } else {\r\n        setError(`Failed to get weather data for ${location}`);\r\n      }\r\n    } catch (error) {\r\n      setError(`Error searching for ${location}: ${error.message}`);\r\n    } finally {\r\n      setIsLoadingWeather(false);\r\n    }\r\n  };\r\n\r\n  // Generate AI recommendations\r\n  const generateAIRecommendations = async () => {\r\n    setIsGeneratingRecommendations(true);\r\n    \r\n    try {\r\n      const response = await WeatherAPI.getAIRecommendations(weatherData, weatherData.location);\r\n      \r\n      if (response.success) {\r\n        setRecommendations(response.data);\r\n      } else {\r\n        setError('Failed to generate AI recommendations');\r\n      }\r\n    } catch (error) {\r\n      setError(`Error generating recommendations: ${error.message}`);\r\n    } finally {\r\n      setIsGeneratingRecommendations(false);\r\n    }\r\n  };\r\n\r\n  // Load weather data when current location changes\r\n  useEffect(() => {\r\n    if (currentLocation !== weatherData.location) {\r\n      handleLocationSearch(currentLocation);\r\n    }\r\n  }, [currentLocation]);\r\n\r\n  // Auto-generate recommendations when weather data changes\r\n  useEffect(() => {\r\n    if (weatherData.location && !isLoadingWeather) {\r\n      generateAIRecommendations();\r\n    }\r\n  }, [weatherData.location, weatherData.temperature]);\r\n\r\n  return (\r\n    <div>\r\n      {/* Location Search */}\r\n      <LocationSearch \r\n        onLocationSelect={handleLocationSearch}\r\n        isLoading={isLoadingWeather}\r\n      />\r\n\r\n      {/* Error Display */}\r\n      {error && (\r\n        <div className=\"brutal-container\">\r\n          <div style={{ \r\n            background: '#ff4444', \r\n            color: 'white', \r\n            padding: '12px', \r\n            textAlign: 'center' \r\n          }}>\r\n            <div className=\"brutal-text-sm\">⚠️ {error}</div>\r\n            <button \r\n              className=\"brutal-button\"\r\n              style={{ \r\n                marginTop: '8px', \r\n                padding: '6px 12px', \r\n                fontSize: '10px',\r\n                background: 'white',\r\n                color: 'black'\r\n              }}\r\n              onClick={() => setError(null)}\r\n            >\r\n              DISMISS\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Favorites Section */}\r\n      <FavoritesSection \r\n        favorites={favorites}\r\n        currentLocation={currentLocation}\r\n        setCurrentLocation={setCurrentLocation}\r\n      />\r\n      \r\n      {/* Weather Card */}\r\n      <WeatherCard \r\n        weatherData={weatherData}\r\n        isLoading={isLoadingWeather}\r\n        onSave={() => {\r\n          if (!favorites.includes(weatherData.location)) {\r\n            setFavorites([...favorites, weatherData.location]);\r\n          }\r\n        }}\r\n        onRefresh={() => handleLocationSearch(weatherData.location)}\r\n      />\r\n      \r\n      {/* AI Recommendations */}\r\n      <AIRecommendations \r\n        weatherData={weatherData}\r\n        recommendations={recommendations}\r\n        isGenerating={isGeneratingRecommendations}\r\n        onGenerate={generateAIRecommendations}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}